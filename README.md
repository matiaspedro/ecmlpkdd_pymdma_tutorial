# INVICTA Spring School - pyMDMA Case Study

This part of the session will focus on assessing the quality of a portion of data used to the train the Stable Diffusion model, as well as the quality of the synthetic data generated by the model.

The valuation will be performed with a set of *input validation* and *synthesis validation* metrics from pyMDMA [1]. 
We have a sample dataset with 10000 images from the EyePACS [2] and the AIROGS [3] challenge datasets, which focus mainly on diabetic retinopathy and glaucoma, respectively.  

In the first part we will be looking into the quailty of the real dataset and its challenges. Next, we will focus on the synthetic data generated by the model and will assess its quality.

## Preparation

Create a python virtual environment and install the requirements using the following commands:
```bash
python3 -m venv .venv
source .venv/bin/activate # or .venv/Scripts/activate for windows
pip install -r requirements.txt
```

## Runing the notebooks
It is recommended you run the notebooks in your IDE of preference (VSCode, PyCharm, etc..).

If you wish to run on a JupyterLab notebook you need to setup the kernel with:

```bash
ipython kernel install --user --name=venv
```

And then run the notebook server with:

```bash
jupyter notebook
```

## References

[1] pyMDMA, "pyMDMA: Multimodal Data Auditing Metrics for assesssing real and synthetic datasets", GitHub, 2024. [Online]. Available: https://github.com/fraunhoferportugal/pymdma

[2] Kaggle, “Diabetic Retinopathy Detection,” Kaggle, 2015. [Online]. Available: https://www.kaggle.com/c/diabetic-retinopathy-detection

[3] L. van den Heuvel, R. Valk, B. van Ginneken, et al., “AIROGS: A Public Dataset for AI-Based Glaucoma Screening,” Proceedings of the 1st MICCAI Workshop on Artificial Intelligence for RObust Glaucoma Screening (AIROGS), 2023. [Online]. Available: https://airogs.grand-challenge.org/




